{% extends "layout.html" %}

{% set active_page = "page2" %}

{% block title %}Page 2{% endblock %}

{% block content %}
    <!--page content-->
	<!-- {x: value, y: value}, -->
    <h1>Page 2</h1>
	<form action="/p2">
          <select name="country"> <!-- A select element creates a drop-down box with options to select from. Note: add onchange="this.form.submit()" to submit/update the form when an option is selected.  Usefull for then displaying county options. -->
            {% for c in countries %} <!-- Loop through the list of states and add an option element for each state -->
                <option value="{{ c }}">{{ c }}</option>
            {% endfor %}
          </select>
          <br><br>
          <input type="submit" value="Get a fun fact!">
        </form>
    {% if showing == "yes" %}
		<script>
		window.onload = function () {

		var chart = new CanvasJS.Chart("chartContainer", {
			animationEnabled: true,
			theme: "light2",
			title:{
				text: "{{title}}" 
			},
			data: [{        
				type: "line",
				indexLabelFontSize: 16,
				dataPoints: [
					{{data}}
				]
			}]
		});
		chart.render();

		}
		</script>
		<div id="chartContainer" style="height: 370px; width: 100%;"></div>
		<script src="https://cdn.canvasjs.com/canvasjs.min.js"></script> 
	{% endif %}
{% endblock %}
